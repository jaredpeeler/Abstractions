<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Interface ICouponService
   | DirectScale Abstractions </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Interface ICouponService
   | DirectScale Abstractions ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="DirectScale.Disco.Extension.Services.ICouponService">
  
  
  <h1 id="DirectScale_Disco_Extension_Services_ICouponService" data-uid="DirectScale.Disco.Extension.Services.ICouponService" class="text-break">Interface ICouponService
  </h1>
  <div class="markdown level0 summary"><p>Manages available coupons able to discount orders or items.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="DirectScale.Disco.Extension.Services.html">DirectScale.Disco.Extension.Services</a></h6>
  <h6><strong>Assembly</strong>: DirectScale.Disco.Extension.Abstractions.dll</h6>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface ICouponService</code></pre>
  </div>
  <h3 id="methods">Methods
  </h3>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_CalculateCoupon_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.CalculateCoupon*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_CalculateCoupon_DirectScale_Disco_Extension_OrderTotal___System_String_System_String_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.CalculateCoupon(DirectScale.Disco.Extension.OrderTotal[],System.String,System.String)">CalculateCoupon(OrderTotal[], String, String)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">double CalculateCoupon(OrderTotal[] totals, string currencyCode, string couponCode)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.OrderTotal.html">OrderTotal</a>[]</td>
        <td><span class="parametername">totals</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">currencyCode</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">couponCode</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_DeleteCoupon_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.DeleteCoupon*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_DeleteCoupon_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.DeleteCoupon(System.Int32)">DeleteCoupon(Int32)</h4>
  <div class="markdown level1 summary"><p>Delete an existing coupon.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void DeleteCoupon(int couponId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">couponId</span></td>
        <td><p>The coupon's DB Id.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_DeleteCoupon_System_Int32__seealso">See Also</h5>
  <div class="seealso">
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_CouponId">CouponId</a></div>
  </div>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetAssociateCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCoupons_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetAssociateCoupons(System.Int32)">GetAssociateCoupons(Int32)</h4>
  <div class="markdown level1 summary"><p>Gets the coupons assigned to this specific associate.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use GetCoupons() with onlyValidCoupons = false&quot;)]
Coupon[] GetAssociateCoupons(int associateId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td><p>Associate with special coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td><p>Array of Coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCoupons_System_Int32__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Coupons can be created that are only available to specific associates (see <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_BackOfficeIds">BackOfficeIds</a>) an no one else. This method will only return the coupons that specifically include this associate.
This method includes all coupons assigned to this associate, even if that associate can't use this coupon (it may have expired, they may have already used it, etc.)
This method will not return other public coupons that this associate can use, only those that specifically include this associate.</p>
</div>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCoupons_System_Int32__seealso">See Also</h5>
  <div class="seealso">
      <div><a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetValidAssociateCoupons_System_Int32_">GetValidAssociateCoupons(Int32)</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetUnusedAssociateCoupons_System_Int32_">GetUnusedAssociateCoupons(Int32)</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetValidCartAssociateCoupons_System_Int32_System_Int32_DirectScale_Disco_Extension_LineItem___">GetValidCartAssociateCoupons(Int32, Int32, LineItem[])</a></div>
  </div>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCouponUsage_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetAssociateCouponUsage*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCouponUsage_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetAssociateCouponUsage(System.Int32)">GetAssociateCouponUsage(Int32)</h4>
  <div class="markdown level1 summary"><p>Gets all coupons the associate has ever used in their orders.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use GetCouponUsage()&quot;)]
OrderCoupon[] GetAssociateCouponUsage(int associateId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td><p>Associate to check.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.OrderCoupon.html">OrderCoupon</a>[]</td>
        <td><p>Array of OrderCoupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCouponAmount_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCouponAmount*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCouponAmount_DirectScale_Disco_Extension_OrderTotal___System_String_System_String_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCouponAmount(DirectScale.Disco.Extension.OrderTotal[],System.String,System.String)">GetCouponAmount(OrderTotal[], String, String)</h4>
  <div class="markdown level1 summary"><p>Checks to see if a specific <code data-dev-comment-type="paramref" class="paramref">couponCode</code> is currently applied in <code data-dev-comment-type="paramref" class="paramref">totals</code>, and for how much.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use CalculateCoupon()&quot;)]
double GetCouponAmount(OrderTotal[] totals, string currencyCode, string couponCode)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.OrderTotal.html">OrderTotal</a>[]</td>
        <td><span class="parametername">totals</span></td>
        <td><p>The order totals for an order that has not yet been completed.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">currencyCode</span></td>
        <td><p>Only the total found with this currency will be checked.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">couponCode</span></td>
        <td><p>The coupon to check.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><p>The amount (in <code data-dev-comment-type="paramref" class="paramref">currencyCode</code>) that this coupon has discounted. 0 if the coupon has not been applied.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_DateTime_System_DateTime_System_String_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons(System.DateTime,System.DateTime,System.String)">GetCoupons(DateTime, DateTime, String)</h4>
  <div class="markdown level1 summary"><p>Searches for active coupons withing a time frame, optional search.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Coupon[] GetCoupons(DateTime beginDate, DateTime endDate, string search)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.DateTime</span></td>
        <td><span class="parametername">beginDate</span></td>
        <td><p>Begin date to look for active coupons.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.DateTime</span></td>
        <td><span class="parametername">endDate</span></td>
        <td><p>End date to look for active coupons.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">search</span></td>
        <td><p>Optional. Filter only coupons who's coupon code contains this search term.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td><p>Array of coupons in time range with search term.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_DateTime_System_DateTime_System_String__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This will return all possible coupons that could have been used during this date range. So, if the range is one month, and a coupon was only available for a single day at the end or beginning, it will still be included as one of the coupons active during this time.</p>
</div>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_DateTime_System_DateTime_System_String__seealso">See Also</h5>
  <div class="seealso">
      <div><a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_String_">GetCoupons(String)</a></div>
  </div>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_Int32_System_Boolean_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons(System.Int32,System.Boolean)">GetCoupons(Int32, Boolean)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Coupon[] GetCoupons(int associateId, bool onlyValidCoupons = true)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">onlyValidCoupons</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_Int32_System_Int32_DirectScale_Disco_Extension_LineItem___" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons(System.Int32,System.Int32,DirectScale.Disco.Extension.LineItem[])">GetCoupons(Int32, Int32, LineItem[])</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Coupon[] GetCoupons(int associateId, int regionId, LineItem[] cartLineItems)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">regionId</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.LineItem.html">LineItem</a>[]</td>
        <td><span class="parametername">cartLineItems</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_String_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCoupons(System.String)">GetCoupons(String)</h4>
  <div class="markdown level1 summary"><p>Get the coupons matching the coupon code.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">Coupon[] GetCoupons(string couponCode)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">couponCode</span></td>
        <td><p>The coupon code. Case-insensitive.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td><p>Array of coupons that match that code.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_String__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>All matching coupons are returned, even expired, etc.
Normally only one coupon should be returned. <a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_UpsertCoupon_DirectScale_Disco_Extension_Coupon_">UpsertCoupon(Coupon)</a> doesn't allow for duplicate codes.</p>
</div>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_String__seealso">See Also</h5>
  <div class="seealso">
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_Code">Code</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetCoupons_System_DateTime_System_DateTime_System_String_">GetCoupons(DateTime, DateTime, String)</a></div>
  </div>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCouponUsage_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCouponUsage*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCouponUsage_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCouponUsage(System.Int32)">GetCouponUsage(Int32)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">OrderCoupon[] GetCouponUsage(int orderId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">orderId</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.OrderCoupon.html">OrderCoupon</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetCouponUsage_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCouponUsage*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetCouponUsage_System_Int32_System_DateTime_System_DateTime_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetCouponUsage(System.Int32,System.DateTime,System.DateTime)">GetCouponUsage(Int32, DateTime, DateTime)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">OrderCoupon[] GetCouponUsage(int associateId, DateTime beginDate, DateTime endDate)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.DateTime</span></td>
        <td><span class="parametername">beginDate</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">System.DateTime</span></td>
        <td><span class="parametername">endDate</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.OrderCoupon.html">OrderCoupon</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetOrderCouponUsage_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetOrderCouponUsage*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetOrderCouponUsage_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetOrderCouponUsage(System.Int32)">GetOrderCouponUsage(Int32)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use CalculateCoupon()&quot;)]
OrderCoupon[] GetOrderCouponUsage(int orderId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">orderId</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.OrderCoupon.html">OrderCoupon</a>[]</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetUnusedAssociateCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetUnusedAssociateCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetUnusedAssociateCoupons_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetUnusedAssociateCoupons(System.Int32)">GetUnusedAssociateCoupons(Int32)</h4>
  <div class="markdown level1 summary"><p>Similar to <a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCoupons_System_Int32_">GetAssociateCoupons(Int32)</a>, except it will remove the one time use coupons that have already been redeemed.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use GetCoupons()&quot;)]
Coupon[] GetUnusedAssociateCoupons(int associateId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td><p>The associate who has coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td><p>Array of Coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetValidAssociateCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetValidAssociateCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetValidAssociateCoupons_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetValidAssociateCoupons(System.Int32)">GetValidAssociateCoupons(Int32)</h4>
  <div class="markdown level1 summary"><p>Gets all coupons currently available for this associate to use.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use GetCoupons() with onlyValidCoupons = true&quot;)]
Coupon[] GetValidAssociateCoupons(int associateId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td><p>The associate looking for coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td><p>Array of Coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetValidAssociateCoupons_System_Int32__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This finds all public coupons and coupons specifically assigned to this associate (see <a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetAssociateCoupons_System_Int32_">GetAssociateCoupons(Int32)</a>), then filters them down and returns only the ones that are:
Still within valid dates, availabe in the associate's region, and have not been used before (or are allowed multiple uses).</p>
</div>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetValidAssociateCoupons_System_Int32__seealso">See Also</h5>
  <div class="seealso">
      <div><a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetValidCartAssociateCoupons_System_Int32_System_Int32_DirectScale_Disco_Extension_LineItem___">GetValidCartAssociateCoupons(Int32, Int32, LineItem[])</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_BeginDate">BeginDate</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_EndDate">EndDate</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_Recurring">Recurring</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_BackOfficeIds">BackOfficeIds</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_RegionIds">RegionIds</a></div>
  </div>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_GetValidCartAssociateCoupons_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetValidCartAssociateCoupons*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_GetValidCartAssociateCoupons_System_Int32_System_Int32_DirectScale_Disco_Extension_LineItem___" data-uid="DirectScale.Disco.Extension.Services.ICouponService.GetValidCartAssociateCoupons(System.Int32,System.Int32,DirectScale.Disco.Extension.LineItem[])">GetValidCartAssociateCoupons(Int32, Int32, LineItem[])</h4>
  <div class="markdown level1 summary"><p>Similar to <a class="xref" href="DirectScale.Disco.Extension.Services.ICouponService.html#DirectScale_Disco_Extension_Services_ICouponService_GetValidAssociateCoupons_System_Int32_">GetValidAssociateCoupons(Int32)</a> but it will remove coupons that require specific items that are not in the cart.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use GetCoupons()&quot;)]
Coupon[] GetValidCartAssociateCoupons(int associateId, int regionId, LineItem[] cartLineItems)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td><p>The associate who is placing an order.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">regionId</span></td>
        <td><p>The associate's region.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.LineItem.html">LineItem</a>[]</td>
        <td><span class="parametername">cartLineItems</span></td>
        <td><p>The items currently in the associate's cart.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a>[]</td>
        <td><p>Array of Coupons.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetValidCartAssociateCoupons_System_Int32_System_Int32_DirectScale_Disco_Extension_LineItem____remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Coupons with <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_AllItemIdsRequired">AllItemIdsRequired</a> set to false will never be removed.</p>
</div>
  <h5 id="DirectScale_Disco_Extension_Services_ICouponService_GetValidCartAssociateCoupons_System_Int32_System_Int32_DirectScale_Disco_Extension_LineItem____seealso">See Also</h5>
  <div class="seealso">
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_AllItemIdsRequired">AllItemIdsRequired</a></div>
      <div><a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_AppliedItemIds">AppliedItemIds</a></div>
  </div>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_IsCouponUsed_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.IsCouponUsed*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_IsCouponUsed_System_Int32_System_Int32_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.IsCouponUsed(System.Int32,System.Int32)">IsCouponUsed(Int32, Int32)</h4>
  <div class="markdown level1 summary"><p>Indicates if an associate has ever used this coupon id before.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool IsCouponUsed(int couponId, int associateId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">couponId</span></td>
        <td><p>The coupon's DB id.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">associateId</span></td>
        <td><p>The associate.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_SaveCoupon_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.SaveCoupon*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_SaveCoupon_DirectScale_Disco_Extension_Coupon_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.SaveCoupon(DirectScale.Disco.Extension.Coupon)">SaveCoupon(Coupon)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">SaveCouponResponse SaveCoupon(Coupon couponInfo)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a></td>
        <td><span class="parametername">couponInfo</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.SaveCouponResponse.html">SaveCouponResponse</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="DirectScale_Disco_Extension_Services_ICouponService_UpsertCoupon_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.UpsertCoupon*"></a>
  <h4 id="DirectScale_Disco_Extension_Services_ICouponService_UpsertCoupon_DirectScale_Disco_Extension_Coupon_" data-uid="DirectScale.Disco.Extension.Services.ICouponService.UpsertCoupon(DirectScale.Disco.Extension.Coupon)">UpsertCoupon(Coupon)</h4>
  <div class="markdown level1 summary"><p>Validate coupon info, then create or update DB record. To update a coupon set <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_CouponId">CouponId</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[Obsolete(&quot;Use SaveCoupon()&quot;)]
UpsertCouponResponse UpsertCoupon(Coupon couponInfo)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.Coupon.html">Coupon</a></td>
        <td><span class="parametername">couponInfo</span></td>
        <td><p>The coupon to create or update.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="DirectScale.Disco.Extension.UpsertCouponResponse.html">UpsertCouponResponse</a></td>
        <td><p>Id of coupon and a list of backoffice ids found in <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_BackOfficeIds">BackOfficeIds</a>, but not found in the DB.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.ArgumentNullException</span></td>
        <td><p>If <code data-dev-comment-type="paramref" class="paramref">couponInfo</code>, <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_RegionIds">RegionIds</a>, <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_BackOfficeIds">BackOfficeIds</a>, or <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_AppliedItemIds">AppliedItemIds</a> is null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.ArgumentException</span></td>
        <td><p>If <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_Code">Code</a> is not unique.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.ArgumentException</span></td>
        <td><p>If <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_BeginDate">BeginDate</a> or <a class="xref" href="DirectScale.Disco.Extension.Coupon.html#DirectScale_Disco_Extension_Coupon_EndDate">EndDate</a> is invalid.</p>
</td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright © 2021 <a href="https://directscale.com">DirectScale</a><br>Generated by <strong>DocFX</strong>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
